---
title: PAT乙级 1033.旧键盘打字 (20 分)
date: 2019-07-05 17:37:09
tags: pat
categories: pat乙级
---

旧键盘上坏了几个键，于是在敲一段文字的时候，对应的字符就不会出现。现在给出应该输入的一段文字、以及坏掉的那些键，打出的结果文字会是怎样？

<!--more-->

### 输入格式：

输入在 2 行中分别给出坏掉的那些键、以及应该输入的文字。其中对应英文字母的坏键以大写给出；每段文字是不超过 10^5 个字符的串。可用的字符包括字母 [`a`-`z`, `A`-`Z`]、数字 `0`-`9`、以及下划线 `_`（代表空格）、`,`、`.`、`-`、`+`（代表上档键）。题目保证第 2 行输入的文字串非空。

注意：如果上档键坏掉了，那么大写的英文字母无法被打出。

### 输出格式：

在一行中输出能够被打出的结果文字。如果没有一个字符能被打出，则输出空行。

### 输入样例：

```in
7+IE.
7_This_is_a_test.
```

### 输出样例：

```out
_hs_s_a_tst
```

### 分析：

采用**哈希表**。数组hash以字符为下标，初始值均赋为0。对坏掉的那些键，更新其值为1。

遍历应该输入的文字时，若对应字符在数组hash中的值为1，则表示该键坏掉了；若为0，则表示该键没坏，输出该字符。

**如果上档键坏掉了，那么大写的英文字母无法被打出**。因此，若当前字符为大写字母，则需要判断上档键是否坏掉。若上档键没坏，则输出该字符；否则，不输出。

由于**英文字母的坏键以大写给出**，因此，若当前字符为小写字母，则应判断其大写形式在hash中的值是否为1。

```c++
#include <cstdio>

bool isNotBroken(int hash[], char c) {
	// 若上档键坏了，那么大写的英文字母不能输出。
	if ('A' <= c && c <= 'Z' && hash['+'] == 1) {
		return false;
	}
	if ('a' <= c && c <= 'z') {
		c -= 32;
	}
	return hash[c] == 0;
}

int main() {
	// 'z'=122
	int hash[123] = { 0 };
	char temp;

	// 处理坏掉的键，更新其值为1
	while ((temp = getchar()) != '\n') {
		hash[temp] = 1;
	}

	// 处理应该输入的文字
	while ((temp = getchar()) != '\n') {
		// 若当前键没坏，则输出
		if (isNotBroken(hash, temp)) {
			printf("%c", temp);
		}
	}
	printf("\n");
	return 0;
}
```

