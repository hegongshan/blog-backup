---
title: PAT乙级 1026.程序运行时间 （15 分)
date: 2019-03-28 21:09:33
tags: pat
categories: pat乙级
---

要获得一个 C 语言程序的运行时间，常用的方法是调用头文件 time.h，其中提供了 clock() 函数，可以捕捉从程序开始运行到 clock() 被调用时所耗费的时间。这个时间单位是 clock tick，即“时钟打点”。同时还有一个常数 CLK_TCK，给出了机器时钟每秒所走的时钟打点数。于是为了获得一个函数 *f* 的运行时间，我们只要在调用 *f* 之前先调用 clock()，获得一个时钟打点数 C1；在 *f* 执行完成后再调用 clock()，获得另一个时钟打点数 C2；两次获得的时钟打点数之差 (C2-C1) 就是 *f* 运行所消耗的时钟打点数，再除以常数 CLK_TCK，就得到了以秒为单位的运行时间。

这里不妨简单假设常数 CLK_TCK 为 100。现给定被测函数前后两次获得的时钟打点数，请你给出被测函数运行的时间。

<!--more-->

### 输入格式：

输入在一行中顺序给出 2 个整数 C1 和 C2。注意两次获得的时钟打点数肯定不相同，即 C1 < C2，并且取值在 [0,10^7]。

### 输出格式：

在一行中输出被测函数运行的时间。运行时间必须按照 `hh:mm:ss`（即2位的 `时:分:秒`）格式输出；不足 1 秒的时间四舍五入到秒。

### 输入样例：

```in
123 4577973
```

### 输出样例：

```out
12:42:59
```

### 分析：

由于题目要求“不足 1 秒的时间四舍五入到秒”，所以C2-C1后，先加上50，这样如果（C2-C1）/ 100的小数位大于等于0.5则会进位，小于0.5则会被舍去，从而保证四舍五入到秒。

然后再除以100，得到以秒为单位的总时间n =（C2-C1+50）/ 100。

n / 3600 得到小时数hour，n % 3600 / 60 则得到了分钟数minute ，n % 3600 % 60则得到了秒数second。

```c++
#include <cstdio>

int main() {
	int c1, c2;
	scanf("%d %d", &c1, &c2);
	int n = (c2 - c1 + 50) / 100;
	int hour = n / 3600;
	n = n % 3600;
	int minute = n / 60, second = n % 60;
	printf("%02d:%02d:%02d\n", hour, minute, second);
	return 0;
}
```

另一种解法：

使用浮点数来存储以秒为单位的总时间，为最后的秒数second加上0.5，从而保证大于等于0.5的小数位能进位。

```c++
#include <cstdio>

int main() {
	int c1, c2;
	double CLK_TCK = 100.0;
	scanf("%d %d", &c1, &c2);
	double seconds = (c2 - c1) / CLK_TCK;
	int h = seconds / (60 * 60);
	int m = (seconds - h * 60 * 60) / 60;
	int s = seconds - h * 60 * 60 - m * 60 + 0.5;
	printf("%02d:%02d:%02d\n", h, m, s);
	return 0;
}
```

